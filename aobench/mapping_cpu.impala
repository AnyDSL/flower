extern "C" {
    fn drand48() -> f64;
}
fn magic_plane_id(plane: Plane) -> Plane { plane }
fn magic_spheres_id(spheres: [Sphere * 3]) -> [Sphere * 3] { spheres }

fn iteration(out: &[u8], width: int, height: int,
             body: fn(int, int, &[u8]) -> ()
            ) -> () {
    for benchmark() {
        for y in $outer_loop(0, height) {
            for x in $inner_loop(0, width) @{
                body(x, y, out);
            }
        }
    }
}

